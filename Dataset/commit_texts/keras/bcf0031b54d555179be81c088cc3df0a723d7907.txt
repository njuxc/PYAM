fix TensorBoard callback with unit test (#10173)

