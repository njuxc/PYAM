httpapi: Split off and save response text contents (#43305)

* Split off and save response text contents

* login might depend on httpapi
